(function(){"use strict";var t={6729:function(t,e,n){var o=n(7195),r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-8",attrs:{id:"app"}},[e("router-view")],1)},s=[],a=n(1001),l={},i=(0,a.Z)(l,r,s,!1,null,null,null),u=i.exports,c=n(2241),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full flex flex-col space-y-8"},[t._m(0),e("div",{},[e("Draggable",{staticClass:"w-full flex space-x-6 overflow-x-auto pb-8",attrs:{tag:"ul",list:t.getColumns,animation:"200",group:"columns",disabled:!1,ghostClass:"ghost",handle:".handle-column-drag"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},t._l(t.getColumns,(function(t,n){return e("KanbanBoardColumn",{key:t.id,attrs:{column:t,"column-index":n}})})),1)],1)])},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full bg-gray-200/80 rounded-md p-4 shadow-md backdrop-blur-md"},[e("h2",{staticClass:"text-2xl font-bold text-gray-800"},[t._v("Kanban Board")])])}],f=n(3646),g=n.n(f),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-[244px] min-w-[244px] rounded-md bg-gray-400/40 shadow-md"},[e("div",{staticClass:"handle-column-drag cursor-move w-full bg-gray-200/80 backdrop-blur-md flex items-center justify-center mb-4 p-4 pb-8 rounded-t-md relative"},[e("h2",{staticClass:"font-semibold"},[t._v(t._s(t.column.name))]),e("div",{staticClass:"absolute bottom-0 left-0 right-0 w-full flex flex-col"},[e("div",{staticClass:"w-full flex justify-between text-gray-600 px-2 mb-1 text-sm"},[e("h5",[t._v("Current Stack")]),e("h5",[t._v(t._s(t.getColumnPercentage))])]),e("div",{staticClass:"bg-lime-500 h-1 transition-all duration-200",style:{width:t.getColumnPercentage},attrs:{title:t.getColumnPercentage}})])]),e("div",{staticClass:"w-full p-4 max-h-[60vh] overflow-y-auto overflow-x-hidden"},[e("Draggable",{staticClass:"list-group",attrs:{tag:"ul",list:t.getColumnItems,animation:"200",group:"items",disabled:!1,ghostClass:"ghost"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}}},t._l(t.getColumnItems,(function(n,o){return e("li",{key:`column-${n.id}`,staticClass:"cursor-move rounded p-2 bg-gray-200 mb-3 flex items-center justify-between"},[e("span",{},[t._v(t._s(n.content))]),e("button",{staticClass:"font-semibold",on:{click:function(e){return e.stopPropagation(),t.removeItem(o)}}},[t._v("X")])])})),0),e("KanBanBoardAddCardVue",{attrs:{"column-index":t.columnIndex}})],1)])},h=[],v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full"},[e("Transition",{attrs:{name:"fade",mode:"out-in"}},[t.addCard?e("div",{staticClass:"w-full flex flex-col space-y-2"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",staticClass:"w-full rounded-md p-2 focus:outline-none focus:ring focus:border-sky-500",attrs:{type:"text",placeholder:"Enter a title for this card"},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem()},input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("div",{staticClass:"w-full flex space-x-2"},[e("button",{staticClass:"btn btn-primary text-xs",attrs:{disabled:!t.content.length},on:{click:function(e){return t.addItem()}}},[t._v("Add")]),e("button",{staticClass:"btn text-xs",on:{click:function(e){return t.toggleAddCard()}}},[t._v("Cancel")])])]):e("button",{staticClass:"btn btn-primary text-xs",on:{click:function(e){return t.toggleAddCard()}}},[t._v("Add Card")])])],1)},b=[],C=(n(7658),n(8659)),x=n(9884);class y{static async getTodos(){try{const t=await fetch("https://jsonplaceholder.typicode.com/todos"),e=await t.json();return e}catch(t){return console.error(t),[]}}}const w=(0,C.Q_)("kanbanBoard",{state:()=>({columns:[]}),getters:{getColumns:t=>t.columns,getItemsTotal:t=>t.columns.reduce(((t,e)=>t+e.items.length),0)},actions:{loadMockupData(){const t=["BackLog","To Do","Doing","Done"];y.getTodos().then((e=>{this.columns=t.map(((t,n)=>{const o={key:t.toLowerCase(),id:x.StringHelpers.randomString(16),name:t,items:e.slice(5*n,5*(n+1)).map((t=>({content:t.title,id:x.StringHelpers.randomString(16)})))};return o}))}))},updateColumn(t,e){this.columns[t]=e,console.log(this.columns[t])},addItem(t,e){this.columns[t].items.push({content:e,id:x.StringHelpers.randomString(16)})},removeItem(t,e){this.columns[t].items.splice(e,1)}}});var _={props:{columnIndex:{type:Number,required:!0}},data(){return{addCard:!1,content:""}},mounted(){document.addEventListener("keydown",this.handleEsc)},beforeDestroy(){document.removeEventListener("keydown",this.handleEsc)},methods:{toggleAddCard(){this.addCard=!this.addCard,setTimeout((()=>{this.addCard?this.$nextTick((()=>{this.$refs.textarea.focus()})):this.content=""}),300)},addItem(){this.content&&(this.toggleAddCard(),setTimeout((()=>{w().addItem(this.columnIndex,this.content),this.content=""}),200))},handleEsc(t){"Escape"===t.key&&(this.addCard=!1)}}},k=_,I=(0,a.Z)(k,v,b,!1,null,null,null),P=I.exports,O={components:{Draggable:g(),KanBanBoardAddCardVue:P},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0}},data(){return{isUpdating:!1,tempColumn:null}},computed:{getColumnItems:{get(){return this.tempColumn?this.tempColumn:this.column.items},set(t){const e={...this.column,items:t};this.isUpdating=!0,this.$set(this,"tempColumn",e),w().updateColumn(this.columnIndex,e),setTimeout((()=>{this.tempColumn=null}),10)}},getColumnPercentage(){return 0===this.column.items.length?"0%":x.MathHelpers.getPercentageOfAmount(w().getItemsTotal,this.column.items.length,!0,1)}},methods:{removeItem(t){w().removeItem(this.columnIndex,t)}}},T=O,j=(0,a.Z)(T,p,h,!1,null,null,null),S=j.exports,B={components:{KanbanBoardColumn:S,Draggable:g()},computed:{getColumns(){return w().getColumns}},mounted(){w().loadMockupData()}},D=B,Z=(0,a.Z)(D,d,m,!1,null,null,null),A=Z.exports;o.ZP.use(c.ZP);const E=[{path:"/",name:"kanban-board",component:A},{path:"*",component:A}],M=new c.ZP({mode:"history",base:"https://igortrinidad.github.io/kanban-board-code-test/",routes:E});var K=M;o.ZP.use(C.og);const $=(0,C.WB)();o.ZP.config.productionTip=!1,new o.ZP({router:K,render:t=>t(u),pinia:$}).$mount("#app")}},e={};function n(o){var r=e[o];if(void 0!==r)return r.exports;var s=e[o]={exports:{}};return t[o].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,o,r,s){if(!o){var a=1/0;for(c=0;c<t.length;c++){o=t[c][0],r=t[c][1],s=t[c][2];for(var l=!0,i=0;i<o.length;i++)(!1&s||a>=s)&&Object.keys(n.O).every((function(t){return n.O[t](o[i])}))?o.splice(i--,1):(l=!1,s<a&&(a=s));if(l){t.splice(c--,1);var u=r();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[o,r,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={826:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var r,s,a=o[0],l=o[1],i=o[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(r in l)n.o(l,r)&&(n.m[r]=l[r]);if(i)var c=i(n)}for(e&&e(o);u<a.length;u++)s=a[u],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(c)},o=self["webpackChunktest_vue_2_7"]=self["webpackChunktest_vue_2_7"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(6729)}));o=n.O(o)})();
//# sourceMappingURL=index.bbb09bf9.js.map