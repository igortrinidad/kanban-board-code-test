(function(){"use strict";var t={8249:function(t,e,n){var o=n(7195),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"p-8",attrs:{id:"app"}},[e("router-view")],1)},a=[],r=n(1001),i={},l=(0,r.Z)(i,s,a,!1,null,null,null),u=l.exports,d=n(2241),c=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full flex flex-col space-y-8"},[t._m(0),e("div",{attrs:{"data-test-id":"columns"}},[e("Draggable",{staticClass:"w-full flex space-x-6 overflow-x-auto pb-8",attrs:{tag:"div",list:t.getColumns,animation:"200",group:"columns",disabled:!1,ghostClass:"ghost",handle:".handle-column-drag"}},t._l(t.getColumns,(function(t,n){return e("KanbanBoardColumn",{key:t.id,attrs:{column:t,"column-index":n}})})),1)],1)])},m=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full bg-gray-200/80 rounded-md p-4 shadow-md backdrop-blur-md flex justify-between items-center"},[e("div",{},[e("h2",{staticClass:"text-2xl font-bold text-gray-800"},[t._v("Kanban Board")]),e("a",{staticClass:"text-sm font-bold text-sky-600",attrs:{href:"https://igortrindade.dev",target:"_blank"}},[t._v(" By Igor Trindade ")])]),e("a",{attrs:{href:"https://github.com/igortrinidad/kanban-board-code-test",target:"_blank"}},[e("img",{staticClass:"w-8 h-8",attrs:{src:"https://igortrinidad.github.io/kanban-board-code-test/github-mark.svg",alt:"Github Logo"}})])])}],f=n(3646),g=n.n(f),h=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-[244px] min-w-[244px] rounded-md bg-gray-400/40 shadow-md",attrs:{id:`column-${t.column.id}`}},[e("div",{staticClass:"handle-column-drag cursor-move w-full bg-gray-200/80 backdrop-blur-md flex items-center justify-center mb-4 p-4 pb-8 rounded-t-md relative"},[e("h2",{staticClass:"font-semibold"},[t._v(t._s(t.column.name))]),e("div",{staticClass:"absolute bottom-0 left-0 right-0 w-full flex flex-col"},[e("div",{staticClass:"w-full flex justify-between text-gray-600 px-2 mb-1 text-sm"},[e("h5",[t._v("Current Stack")]),e("h5",[t._v(t._s(t.getColumnPercentage))])]),e("div",{staticClass:"bg-lime-500 h-1 transition-all duration-200",style:{width:t.getColumnPercentage},attrs:{title:t.getColumnPercentage}})])]),e("div",{staticClass:"w-full p-4 max-h-[60vh] overflow-y-auto overflow-x-hidden",attrs:{"data-test-id":"items"}},[e("Draggable",{staticClass:"list-group",attrs:{list:t.getColumnItems,tag:"ul",animation:"200",group:"items",ghostClass:"ghost",handle:".handle-drag-item"}},[t._l(t.getColumnItems,(function(n,o){return e("li",{key:`item-${n.id}`,staticClass:"rounded bg-gray-200 mb-3 flex items-start justify-between",attrs:{id:`item-${n.id}`}},[e("div",{staticClass:"handle-drag-item cursor-move w-full p-2"},[t._v(" "+t._s(n.content)+" ")]),e("button",{staticClass:"btn font-semibold",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.removeItem(o)}}},[t._v(" X ")])])})),e("KanBanBoardAddCardVue",{attrs:{"column-index":t.columnIndex}})],2)],1)])},p=[],b=function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-full"},[e("Transition",{attrs:{name:"fade",mode:"out-in"}},[t.addCard?e("div",{staticClass:"w-full flex flex-col space-y-2"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",staticClass:"w-full rounded-md p-2 focus:outline-none focus:ring focus:border-sky-500",attrs:{type:"text",placeholder:"Enter a title for this card"},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addItem()},input:function(e){e.target.composing||(t.content=e.target.value)}}}),e("div",{staticClass:"w-full flex space-x-2"},[e("button",{staticClass:"btn btn-primary text-xs",attrs:{disabled:!t.content.length},on:{click:function(e){return t.addItem()}}},[t._v("Add")]),e("button",{staticClass:"btn text-xs",on:{click:function(e){return t.toggleAddCard()}}},[t._v("Cancel")])])]):e("button",{staticClass:"btn btn-primary text-xs",on:{click:function(e){return t.toggleAddCard()}}},[t._v("Add Card")])])],1)},v=[],C=(n(7658),n(8659)),x=n(9884);class y{static async getTodos(){try{const t=await fetch("https://jsonplaceholder.typicode.com/todos"),e=await t.json();return Array.isArray(e)?e:(console.log("Invalid response format:",e),[])}catch(t){return console.log(t),[]}}}const w=(0,C.Q_)("kanbanBoard",{state:()=>({columns:[]}),getters:{getColumns:t=>t.columns,getItemsTotal:t=>t.columns.reduce(((t,e)=>t+e.items.length),0)},actions:{loadMockupData(){const t=["BackLog","To Do","Doing","Done"];y.getTodos().then((e=>{this.columns=t.map(((t,n)=>{const o={key:t.toLowerCase(),id:x.StringHelpers.randomString(16),name:t,items:e.slice(5*n,5*(n+1)).map((t=>({content:t.title,id:x.StringHelpers.randomString(16)})))};return o}))}))},updateColumn(t,e){this.columns[t]=e,console.log(this.columns[t])},addItem(t,e){this.columns[t].items.push({content:e,id:x.StringHelpers.randomString(16)})},removeItem(t,e){this.columns[t].items.splice(e,1)}}});var _={props:{columnIndex:{type:Number,required:!0}},data(){return{addCard:!1,content:""}},mounted(){document.addEventListener("keydown",this.handleEsc)},beforeDestroy(){document.removeEventListener("keydown",this.handleEsc)},methods:{toggleAddCard(){this.addCard=!this.addCard,setTimeout((()=>{this.addCard?this.$nextTick((()=>{this.$refs.textarea.focus()})):this.content=""}),300)},addItem(){this.content&&(this.toggleAddCard(),setTimeout((()=>{w().addItem(this.columnIndex,this.content),this.content=""}),200))},handleEsc(t){"Escape"===t.key&&(this.addCard=!1)}}},k=_,I=(0,r.Z)(k,b,v,!1,null,null,null),P=I.exports,O={components:{Draggable:g(),KanBanBoardAddCardVue:P},props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0}},data(){return{isUpdating:!1,tempColumn:null}},computed:{getColumnItems:{get(){return this.tempColumn?this.tempColumn:this.column.items},set(t){const e={...this.column,items:t};this.isUpdating=!0,this.$set(this,"tempColumn",e),w().updateColumn(this.columnIndex,e),setTimeout((()=>{this.tempColumn=null}),10)}},getColumnPercentage(){return 0===this.column.items.length?"0%":x.MathHelpers.getPercentageOfAmount(w().getItemsTotal,this.column.items.length,!0,1)}},methods:{removeItem(t){w().removeItem(this.columnIndex,t)}}},T=O,j=(0,r.Z)(T,h,p,!1,null,null,null),S=j.exports,A={components:{KanbanBoardColumn:S,Draggable:g()},computed:{getColumns(){return w().getColumns}},mounted(){w().loadMockupData()}},B=A,D=(0,r.Z)(B,c,m,!1,null,null,null),Z=D.exports;o.ZP.use(d.ZP);const E=[{path:"/",name:"kanban-board",component:Z},{path:"*",component:Z}],$=new d.ZP({mode:"history",base:"https://igortrinidad.github.io/kanban-board-code-test/",routes:E});var M=$;o.ZP.use(C.og);const K=(0,C.WB)();o.ZP.config.productionTip=!1,new o.ZP({router:M,render:t=>t(u),pinia:K}).$mount("#app")}},e={};function n(o){var s=e[o];if(void 0!==s)return s.exports;var a=e[o]={exports:{}};return t[o].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,o,s,a){if(!o){var r=1/0;for(d=0;d<t.length;d++){o=t[d][0],s=t[d][1],a=t[d][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){t.splice(d--,1);var u=s();void 0!==u&&(e=u)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[o,s,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={826:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var s,a,r=o[0],i=o[1],l=o[2],u=0;if(r.some((function(e){return 0!==t[e]}))){for(s in i)n.o(i,s)&&(n.m[s]=i[s]);if(l)var d=l(n)}for(e&&e(o);u<r.length;u++)a=r[u],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(d)},o=self["webpackChunktest_vue_2_7"]=self["webpackChunktest_vue_2_7"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(8249)}));o=n.O(o)})();
//# sourceMappingURL=index.2f3f03a2.js.map